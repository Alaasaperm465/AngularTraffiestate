<!-- Contact Section -->
<section class="contact-section">
  <div class="container">
    <div class="contact-grid">
      <!-- Contact Info -->
      <div class="contact-info">
        <h2 class="section-title">Contact Us</h2>
        <p class="section-description">
          Do you have any questions? Fill out the form and we'll be happy to respond.
          
          TraffieState team is available to answer all your inquiries and help you anytime.
        </p>

        <!-- Address -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <div class="info-content">
            <h3>Address</h3>
            <p>Sohag</p>
            <p>Adfa</p>
            <p>Ghazali Group Consulting Office - Ground Floor</p>
          </div>
        </div>

        <!-- Phone -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-phone-alt"></i>
          </div>
          <div class="info-content">
            <h3>Phone</h3>
            <p dir="ltr">01143872859</p>
          </div>
        </div>

        <!-- Email -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <div class="info-content">
            <h3>Email</h3>
            <p>mahmoudashrafkhalf@gmail.com</p>
          </div>
        </div>

        <!-- Working Hours -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="info-content">
            <h3>Working Hours</h3>
            <p>Sunday to Thursday</p>
            <p>9:00 AM to 5:00 PM</p>
          </div>
        </div>

        <!-- Social Media -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-share-alt"></i>
          </div>
          <div class="info-content">
            <h3>Follow Us on Social Media</h3>
            <div class="social-links">
              <a href="https://www.linkedin.com/in/mahmoud-ashraf-526602228/" class="social-link" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
              <a href="https://www.instagram.com/" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
              <a href="https://www.facebook.com/share/1A664HExJP/" class="social-link" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="contact-form-wrapper">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          
          <!-- Name Field -->
          <div class="form-group">
            <input 
              type="text" 
              formControlName="name" 
              class="form-control" 
              placeholder="Name *"
              [class.invalid]="name?.invalid && name?.touched">
            <span class="error-text" *ngIf="name?.invalid && name?.touched">
              <span *ngIf="name?.errors?.['required']">Name is required</span>
              <span *ngIf="name?.errors?.['minlength']">Name must be at least 3 characters</span>
            </span>
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <input 
              type="email" 
              formControlName="email" 
              class="form-control" 
              placeholder="Email *"
              [class.invalid]="email?.invalid && email?.touched">
            <span class="error-text" *ngIf="email?.invalid && email?.touched">
              <span *ngIf="email?.errors?.['required']">Email is required</span>
              <span *ngIf="email?.errors?.['email']">Invalid email address</span>
            </span>
          </div>

          <!-- Phone Field -->
          <div class="form-group">
            <input 
              type="tel" 
              formControlName="phone" 
              class="form-control" 
              placeholder="Phone Number (11 digits) *"
              [class.invalid]="phone?.invalid && phone?.touched"
              maxlength="11">
            <span class="error-text" *ngIf="phone?.invalid && phone?.touched">
              <span *ngIf="phone?.errors?.['required']">Phone number is required</span>
              <span *ngIf="phone?.errors?.['pattern']">Phone number must be 11 digits</span>
            </span>
          </div>

          <!-- Subject Field -->
          <div class="form-group">
            <input 
              type="text" 
              formControlName="subject" 
              class="form-control" 
              placeholder="Subject *"
              [class.invalid]="subject?.invalid && subject?.touched">
            <span class="error-text" *ngIf="subject?.invalid && subject?.touched">
              <span *ngIf="subject?.errors?.['required']">Subject is required</span>
              <span *ngIf="subject?.errors?.['minlength']">Subject must be at least 5 characters</span>
            </span>
          </div>

          <!-- Message Field -->
          <div class="form-group">
            <textarea 
              formControlName="message" 
              class="form-control textarea" 
              placeholder="Message *" 
              rows="6"
              [class.invalid]="message?.invalid && message?.touched"></textarea>
            <span class="error-text" *ngIf="message?.invalid && message?.touched">
              <span *ngIf="message?.errors?.['required']">Message is required</span>
              <span *ngIf="message?.errors?.['minlength']">Message must be at least 10 characters</span>
            </span>
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="btn-submit" 
            [disabled]="isSubmitting">
            <span *ngIf="!isSubmitting">Send Message</span>
            <span *ngIf="isSubmitting">
              <i class="fas fa-spinner fa-spin"></i> Sending...
            </span>
          </button>

          <!-- Success Message -->
          <div *ngIf="submitSuccess" class="success-message">
            <i class="fas fa-check-circle"></i>
            Your message has been sent successfully! We'll contact you soon.
          </div>

          <!-- Error Message -->
          <div *ngIf="submitError" class="error-message">
            <i class="fas fa-exclamation-circle"></i>
            {{ errorMessage }}
          </div>

        </form>
      </div>
    </div>
  </div>
</section>

<!-- Map Section -->
<section class="map-section">
  <div class="map-container">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3453.123456789!2d31.123456!3d30.123456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2z2KfZhNit2LLYp9mFINin2YTYsNmH2KjZiQ!5e0!3m2!1sar!2seg!4v1234567890"
      width="100%" 
      height="450" 
      style="border:0;" 
      allowfullscreen="" 
      loading="lazy"
      title="TraffieState Location on Map">
    </iframe>
  </div>
</section>

<!-- Contact CTA Section -->
<section class="contact-cta-section">
  <div class="container">
    <div class="cta-content">
      <div class="cta-text">
        <h2>Can't Find What You're Looking For?</h2>
        <p>Our expert team is here to help you find your perfect property</p>
      </div>
      <div class="cta-buttons">
        <a href="https://wa.me/201143872859" class="cta-btn primary" target="_blank" rel="noopener noreferrer">
          <i class="bi bi-whatsapp"></i>
          WhatsApp Us
        </a>
        <a href="tel:01143872859" class="cta-btn secondary">
          <i class="bi bi-telephone-fill"></i>
          Call Us
        </a>
      </div>
    </div>
    <div class="contact-info">
      <div class="contact-item">
        <i class="bi bi-whatsapp"></i>
        <span>01158519532</span>
      </div>
      <div class="contact-item">
        <i class="bi bi-telephone-fill"></i>
        <span>01158519532</span>
      </div>
      <div class="contact-item">
        <i class="bi bi-envelope-fill"></i>
        <span>abrarbadr02@gmail.com</span>
      </div>
      <div class="contact-item">
        <i class="bi bi-geo-alt-fill"></i>
        <span>Cairo, Egypt</span>
      </div>
    </div>
  </div>
</section>