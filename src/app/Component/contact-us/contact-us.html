<!-- Contact Section -->
<section class="contact-section">
  <div class="container">
    <div class="contact-grid">
      <!-- Contact Info -->
      <div class="contact-info">
        <h2 class="section-title">{{ 'contact.section.title' | translate }}</h2>
        <p class="section-description">
          {{ 'contact.section.description' | translate }}
        </p>

        <!-- Address -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <div class="info-content">
            <h3>{{ 'contact.address.title' | translate }}</h3>
            <p>{{ 'contact.address.city' | translate }}</p>
            <p>{{ 'contact.address.area' | translate }}</p>
            <p>{{ 'contact.address.office' | translate }}</p>
          </div>
        </div>

        <!-- Phone -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-phone-alt"></i>
          </div>
          <div class="info-content">
            <h3>{{ 'contact.phone.title' | translate }}</h3>
            <p dir="ltr">{{ 'contact.phone.number' | translate }}</p>
          </div>
        </div>

        <!-- Email -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <div class="info-content">
            <h3>{{ 'contact.email.title' | translate }}</h3>
            <p>{{ 'contact.email.address' | translate }}</p>
          </div>
        </div>

        <!-- Working Hours -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="info-content">
            <h3>{{ 'contact.working_hours.title' | translate }}</h3>
            <p>{{ 'contact.working_hours.days' | translate }}</p>
            <p>{{ 'contact.working_hours.hours' | translate }}</p>
          </div>
        </div>

        <!-- Social Media -->
        <div class="info-card">
          <div class="info-icon">
            <i class="fas fa-share-alt"></i>
          </div>
          <div class="info-content">
            <h3>{{ 'contact.social.title' | translate }}</h3>
            <div class="social-links">
              <a href="https://www.linkedin.com/in/mahmoud-ashraf-526602228/" class="social-link" [aria-label]="'contact.social.linkedin' | translate"><i class="fab fa-linkedin-in"></i></a>
              <a href="https://www.instagram.com/" class="social-link" [aria-label]="'contact.social.instagram' | translate"><i class="fab fa-instagram"></i></a>
              <a href="https://www.facebook.com/share/1A664HExJP/" class="social-link" [aria-label]="'contact.social.facebook' | translate"><i class="fab fa-facebook-f"></i></a>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="contact-form-wrapper">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          
          <!-- Name Field -->
          <div class="form-group">
            <input 
              type="text" 
              formControlName="name" 
              class="form-control" 
              [placeholder]="'contact.form.name' | translate"
              [class.invalid]="name?.invalid && name?.touched">
            <span class="error-text" *ngIf="name?.invalid && name?.touched">
              <span *ngIf="name?.errors?.['required']">{{ 'forms.validation.name_required' | translate }}</span>
              <span *ngIf="name?.errors?.['minlength']">{{ 'forms.validation.name_minlength' | translate }}</span>
            </span>
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <input 
              type="email" 
              formControlName="email" 
              class="form-control" 
              [placeholder]="'contact.form.email' | translate"
              [class.invalid]="email?.invalid && email?.touched">
            <span class="error-text" *ngIf="email?.invalid && email?.touched">
              <span *ngIf="email?.errors?.['required']">{{ 'forms.validation.email_required' | translate }}</span>
              <span *ngIf="email?.errors?.['email']">{{ 'forms.validation.email_invalid' | translate }}</span>
            </span>
          </div>

          <!-- Phone Field -->
          <div class="form-group">
            <input 
              type="tel" 
              formControlName="phone" 
              class="form-control" 
              [placeholder]="'contact.form.phone' | translate"
              [class.invalid]="phone?.invalid && phone?.touched"
              maxlength="11">
            <span class="error-text" *ngIf="phone?.invalid && phone?.touched">
              <span *ngIf="phone?.errors?.['required']">{{ 'forms.validation.phone_required' | translate }}</span>
              <span *ngIf="phone?.errors?.['pattern']">{{ 'forms.validation.phone_pattern' | translate }}</span>
            </span>
          </div>

          <!-- Subject Field -->
          <div class="form-group">
            <input 
              type="text" 
              formControlName="subject" 
              class="form-control" 
              [placeholder]="'contact.form.subject' | translate"
              [class.invalid]="subject?.invalid && subject?.touched">
            <span class="error-text" *ngIf="subject?.invalid && subject?.touched">
              <span *ngIf="subject?.errors?.['required']">{{ 'forms.validation.subject_required' | translate }}</span>
              <span *ngIf="subject?.errors?.['minlength']">{{ 'forms.validation.subject_minlength' | translate }}</span>
            </span>
          </div>

          <!-- Message Field -->
          <div class="form-group">
            <textarea 
              formControlName="message" 
              class="form-control textarea" 
              [placeholder]="'contact.form.message' | translate"
              rows="6"
              [class.invalid]="message?.invalid && message?.touched"></textarea>
            <span class="error-text" *ngIf="message?.invalid && message?.touched">
              <span *ngIf="message?.errors?.['required']">{{ 'forms.validation.message_required' | translate }}</span>
              <span *ngIf="message?.errors?.['minlength']">{{ 'forms.validation.message_minlength' | translate }}</span>
            </span>
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="btn-submit" 
            [disabled]="isSubmitting">
            <span *ngIf="!isSubmitting">{{ 'contact.form.send' | translate }}</span>
            <span *ngIf="isSubmitting">
              <i class="fas fa-spinner fa-spin"></i> {{ 'contact.form.sending' | translate }}
            </span>
          </button>

          <!-- Success Message -->
          <div *ngIf="submitSuccess" class="success-message">
            <i class="fas fa-check-circle"></i>
            {{ 'contact.form.success' | translate }}
          </div>

          <!-- Error Message -->
          <div *ngIf="submitError" class="error-message">
            <i class="fas fa-exclamation-circle"></i>
            {{ errorMessage }}
          </div>

        </form>
      </div>
    </div>
  </div>
</section>

<!-- Map Section -->
<section class="map-section">
  <div class="map-container">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3453.123456789!2d31.123456!3d30.123456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2z2KfZhNit2LLYp9mFINin2YTYsNmH2KjZiQ!5e0!3m2!1sar!2seg!4v1234567890"
      width="100%" 
      height="450" 
      style="border:0;" 
      allowfullscreen="" 
      loading="lazy"
      title="TraffieState Location on Map">
    </iframe>
  </div>
</section>

<!-- Contact CTA Section -->
<section class="contact-cta-section">
  <div class="container">
    <div class="cta-content">
      <div class="cta-text">
        <h2>{{ 'contact.cta.title' | translate }}</h2>
        <p>{{ 'contact.cta.description' | translate }}</p>
      </div>
      <div class="cta-buttons">
        <a href="https://wa.me/201143872859" class="cta-btn primary" target="_blank" rel="noopener noreferrer">
          <i class="bi bi-whatsapp"></i>
          {{ 'contact.cta.whatsapp' | translate }}
        </a>
        <a href="tel:01143872859" class="cta-btn secondary">
          <i class="bi bi-telephone-fill"></i>
          {{ 'contact.cta.call' | translate }}
        </a>
      </div>
    </div>
    <div class="contact-info">
      <div class="contact-item">
        <i class="bi bi-whatsapp"></i>
        <span>01158519532</span>
      </div>
      <div class="contact-item">
        <i class="bi bi-telephone-fill"></i>
        <span>01158519532</span>
      </div>
      <div class="contact-item">
        <i class="bi bi-envelope-fill"></i>
        <span>abrarbadr02@gmail.com</span>
      </div>
      <div class="contact-item">
        <i class="bi bi-geo-alt-fill"></i>
        <span>{{ 'contact.contact_info.cairo_egypt' | translate }}</span>
      </div>
    </div>
  </div>
</section>