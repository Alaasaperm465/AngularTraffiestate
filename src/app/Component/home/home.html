<div class="property-search-container">
  <!-- Hero Section with Background -->
  <div class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-background"></div>

    <!-- Navigation Header -->
    <header class="header">
      <div class="container">
        <div class="nav-wrapper">
          <div class="logo">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
              <circle cx="16" cy="16" r="14" fill="#E63946"/>
              <path d="M12 10L20 16L12 22V10Z" fill="white"/>
            </svg>
            <span class="logo-text">Traffi<strong>Estate</strong></span>
          </div>

          <nav class="main-nav">
            <a href="#" class="nav-link" [class.active]="activeTab === 'buy'">Buy</a>
            <a  [routerLink]="['/rent']" class="nav-link" [class.active]="activeTab === 'rent'">Rent</a>
            <a href="#" class="nav-link" [class.active]="activeTab === 'new-projects'">New projects</a>
            <a href="#" class="nav-link" [class.active]="activeTab === 'commercial'">Commercial</a>
            <a href="#" class="nav-link">Find agent</a>
            <a href="#" class="nav-link dropdown">
              Explore
              <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                <path d="M6 8L2 4H10L6 8Z"/>
              </svg>
            </a>
          </nav>

          <button class="login-btn">Log in</button>
        </div>
      </div>
    </header>

    <!-- Hero Content -->
    <div class="hero-content">
      <h1 class="hero-title">Your home search starts here</h1>
      <p class="hero-subtitle">Find properties to rent, buy or invest</p>

      <!-- Search Section -->
      <div class="search-section">
        <!-- Tabs -->
        <div class="tabs">
          <button
            *ngFor="let tab of tabs"
            class="tab"
            [class.active]="activeTab === tab.id"
            (click)="setActiveTab(tab.id)">
            {{ tab.label }}
          </button>
        </div>

        <!-- Search Form -->
        <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="search-form">
          <div class="search-inputs">
            <!-- Search Input -->
            <div class="search-input-wrapper">
              <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="2"/>
                <path d="M12 12L17 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <input
                type="text"
                formControlName="searchQuery"
                class="search-input"
                placeholder="City, community or building"
                (input)="onSearchInputChange($event)">
            </div>

            <!-- Property Type Dropdown -->
            <div class="dropdown-wrapper">
              <button
                type="button"
                class="dropdown-trigger"
                (click)="togglePropertyTypeDropdown()">
                {{ getSelectedPropertyTypeLabel() }}
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M8 10L4 6H12L8 10Z"/>
                </svg>
              </button>

              <div class="dropdown-menu" *ngIf="showPropertyTypeDropdown">
                <button
                  *ngFor="let type of propertyTypes"
                  type="button"
                  class="dropdown-item"
                  [class.active]="searchForm.get('propertyType')?.value === type.value"
                  (click)="selectPropertyType(type)">
                  {{ type.label }}
                </button>
              </div>
            </div>

            <!-- Beds & Baths Dropdown -->
            <div class="dropdown-wrapper">
              <button
                type="button"
                class="dropdown-trigger"
                (click)="toggleBedsAndBathsDropdown()">
                {{ getSelectedBedsAndBathsLabel() }}
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M8 10L4 6H12L8 10Z"/>
                </svg>
              </button>

              <div class="dropdown-menu" *ngIf="showBedsAndBathsDropdown">
                <button
                  *ngFor="let option of bedsAndBathsOptions"
                  type="button"
                  class="dropdown-item"
                  [class.active]="searchForm.get('beds')?.value === option.beds && searchForm.get('baths')?.value === option.baths"
                  (click)="selectBedsAndBaths(option)">
                  {{ option.label }}
                </button>
              </div>
            </div>

            <!-- Search Button -->
            <button type="submit" class="search-button" [disabled]="!searchForm.valid">
              Search
            </button>
          </div>
        </form>

        <!-- Quick Suggestions -->
        <div class="quick-suggestions">
          <h3>Popular Searches:</h3>
          <div class="suggestion-tags">
            <button class="suggestion-tag" (click)="setQuickSearch('New Cairo')">New Cairo</button>
            <button class="suggestion-tag" (click)="setQuickSearch('6th of October')">6th of October</button>
            <button class="suggestion-tag" (click)="setQuickSearch('Sheikh Zayed')">Sheikh Zayed</button>
            <button class="suggestion-tag" (click)="setQuickSearch('North Coast')">North Coast</button>
            <button class="suggestion-tag" (click)="setQuickSearch('Maadi')">Maadi</button>
            <button class="suggestion-tag" (click)="setQuickSearch('El Rehab')">El Rehab</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Featured Properties Section -->
  <section class="featured-properties">
    <div class="container">
      <div class="section-header">
        <h2>Featured Properties</h2>
        <a href="#" class="see-all">See all</a>
      </div>

      <div class="properties-grid">
        <div class="property-card" *ngFor="let property of featuredProperties">
          <div class="property-image">
            <img [src]="property.image" [alt]="property.title">
            <div class="property-type">{{ property.type }}</div>
            <button class="favorite-btn">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 17L3.5 10.5C2.5 9.5 2 8.3 2 7C2 4.2 4.2 2 7 2C8.3 2 9.5 2.5 10.5 3.5L10 4L9.5 3.5C10.5 2.5 11.7 2 13 2C15.8 2 18 4.2 18 7C18 8.3 17.5 9.5 16.5 10.5L10 17Z"
                      [attr.fill]="property.isFavorite ? '#E63946' : 'none'"
                      stroke="#E63946"
                      stroke-width="1.5"/>
              </svg>
            </button>
          </div>
          <div class="property-details">
            <div class="price">{{ property.price }}</div>
            <h3 class="property-title">{{ property.title }}</h3>
            <p class="property-location">{{ property.location }}</p>
            <div class="property-features">
              <span class="feature">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M2 4H14V12H2V4Z"/>
                  <path d="M4 2V4M12 2V4"/>
                </svg>
                {{ property.beds }} beds
              </span>
              <span class="feature">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <circle cx="8" cy="6" r="1"/>
                  <path d="M4 12V10C4 8.9 4.9 8 6 8H10C11.1 8 12 8.9 12 10V12"/>
                </svg>
                {{ property.baths }} baths
              </span>
              <span class="feature">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <rect x="2" y="4" width="12" height="8"/>
                </svg>
                {{ property.area }} mÂ²
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- New Projects Section -->
  <section class="new-projects">
    <div class="container">
      <div class="section-header">
        <h2>New Projects</h2>
        <a href="#" class="see-all">See all</a>
      </div>

      <div class="projects-slider">
        <div class="project-card" *ngFor="let project of newProjects">
          <div class="project-image">
            <img [src]="project.image" [alt]="project.name">
            <div class="project-badge">New</div>
          </div>
          <div class="project-details">
            <h3 class="project-name">{{ project.name }}</h3>
            <p class="project-location">{{ project.location }}</p>
            <div class="project-price-range">
              Starting from {{ project.startingPrice }}
            </div>
            <div class="project-developer">
              <span>by {{ project.developer }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Popular Areas Section -->
  <section class="popular-areas">
    <div class="container">
      <h2>Popular Areas in Egypt</h2>
      <div class="areas-grid">
        <div class="area-card" *ngFor="let area of popularAreas">
          <div class="area-image">
            <img [src]="area.image" [alt]="area.name">
            <div class="area-overlay">
              <h3>{{ area.name }}</h3>
              <p>{{ area.count }} properties</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>Find Your Dream Property</h2>
        <p>Join thousands of satisfied customers who found their perfect home with us</p>
        <div class="cta-buttons">
          <button class="cta-btn primary">Browse Properties</button>
          <button class="cta-btn secondary">Contact Agent</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->

</div>
